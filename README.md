# phpHleb-jsonRPC-app

Супер-небольшое приложение на микрофреймворке php-hleb с JSON-RPC спецификацией для получения сведения о текущем времени в формате MySQL DateTime или UNIX Time.

Для начала работы установите репозиторий с помощью git командой: git clone https://github.com/Varosss/phpHleb-jsonRPC-app.git

Далее перейдите в папку public (cd phpHleb-jsonRPC-app/public), и запустите сервер следующей командой: php -S localhost:8000

Всё, теперь сервис готов к работе.

Чтобы обратиться к серверу и получить результат на главной странице необходимо отправить POST запрос в соответствии с JSON-RPC спецификацией, пример можете увидеть в файле send_requests.php.

В поле "jsonrpc" версия обязательно должна быть 2.0, в "methods" могут быть только "get_current_DateTime" и "get_current_UNIX_time", строка "params" в json запросе обязательной не является, но если вы её прописываете, то значением могут быть только null и пустой массив [], иначе будет выдана ошибка "Invalid params", в "id" прописывается идентификатор, он может быть численным, а также строковым, может даже null (но null не рекомендуется).

После запроса сервер создаёт файл data.json в папке public, в который запишется результат запроса в json формате, и при переходе по адресу http://localhost:8000/ увидите полученный результат.
